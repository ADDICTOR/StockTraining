# 股票投资组合策略回测

这个项目用于验证以下投资组合策略的有效性：

- 35% 中证500
- 15% 标普500
- 10% 红利
- 10% 黄金
- 15% 消费
- 15% 科创50

同时，项目还会测试当资产配置偏离目标20%时进行再平衡是否能提高收益。

## 环境要求

- Python 3.6+
- 依赖包：akshare, pandas, numpy, matplotlib

## 安装

1. 创建虚拟环境：

```bash
python3 -m venv venv
```

1. 激活虚拟环境：

```bash
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

1. 安装依赖：

```bash
pip install akshare pandas numpy matplotlib
```

## 使用方法

运行主程序：

```bash
python stock_strategy.py
```

程序会自动：

1. 尝试获取真实的历史数据（目前只有黄金数据可靠获取）
2. 对于无法获取的数据，使用模拟数据进行补充（仅用于演示策略）
3. 运行不再平衡的回测
4. 运行20%阈值再平衡的回测
5. 比较两种策略的结果
6. 生成结果图表保存在results目录下

## 数据说明

由于akshare接口的限制或变更，目前只能可靠获取黄金数据。为了演示策略的有效性，程序会：

1. 获取真实的黄金价格数据
2. 为其他资产生成模拟数据（基于随机游走模型，但添加了一定的趋势）
3. 自动调整资产配置比例，确保总权重为100%

**注意**：模拟数据仅用于演示策略，不代表真实市场表现。在实际投资中，应使用真实历史数据进行回测。

## 结果解释

程序会输出以下指标的比较：

- 年化收益率
- 最大回撤
- 夏普比率
- 再平衡次数

同时会计算再平衡策略相对于不再平衡策略的改进百分比。

## 注意事项

- 由于数据获取限制，大部分指数使用模拟数据代替
- 程序运行时间可能较长，取决于网络状况和数据量
- 结果仅供参考，不构成投资建议
